<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>bola</title>
</head>
<body>
  <div>
  <canvas id="canvas" width="550" height="400"
  style= "background-color: yellow;border: solid; border-color:blue; border-width: 3px">
  <script>
    let canvasid = document.getElementById ("canvas");
    let ctx=canvasid.getContext("2d");
    let x = 50;
    let y = 20;
    let dx = 5;
    let dy = -5;
    let bolaR = 20;
    const rqtWidth = 100;
    const rqtHeight = 40;
    let rqtX=canvasid.width/2-50;
    let esq = 37;
    let dir = 39;
    let movrqt = 7;

    document.addEventListener ("keydown",tecla);
    function tecla(e){
      let rqtLenght=rqtX+rqtWidth;
      let key=e.keyCode;
        if(key===esq&&rqtX>5){
        rqtX=rqtX-movrqt;
        }
        if(key===dir&&rqtLenght<canvasid.width-5){
        rqtX=rqtX+movrqt;
        }
        };
       
    function bola () {
      ctx.beginPath();
      ctx.arc(x,y,bolaR,0,Math.PI*2);
      ctx.fillStyle="blue";
      ctx.fill();                                           
      ctx.closePath(); 
    }
    
    function rqt () {
     ctx.beginPath();
     ctx.fillStyle="green";
     ctx.fillRect (rqtX,360,rqtWidth,rqtHeight);
     ctx.closePath();
    }
    function mexeBola(){
      ctx.clearRect(0,0,canvasid.width,canvasid.height);
      rqt();
      bola();
        if (x+dx>canvasid.width-bolaR||x+dx<bolaR) {
          dx = -dx;
        }
        if (y+dy>canvasid.height-bolaR-rqtHeight&&x>=rqtX&&x<=rqtX+rqtWidth||y+dy<bolaR) {
            dy = -dy;
        }
        if (y+bolaR===canvasid.height+5&&x<rqtX||y+bolaR===canvasid.height+5&&x>rqtX) {
      endgame();
        }
        x += dx;
        y += dy;
    }
    setInterval (mexeBola,40);
    
    function endgame (mexeBola) {
      alert ("perdeu!!");
        x=50;
        y=20;
    }
  </script>
  </canvas> </div>
</body>
</html>